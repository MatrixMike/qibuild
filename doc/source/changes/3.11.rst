
v3.11
=====

qibuild
-------

* Fix using ``qibuild make-host-tools`` when no project is specified
* Implement ``qibuild make-host-tools --all``
* ``qibuild configure``: fix setting flags containing ``=``, such as
  ``qibuild configure -DCMAKE_CXX_FLAGS="-std=gnu++11"``
* Fix using ``qibuild clean`` in some corner cases
* Restore build directory paths when using a build prefix.

  * Before 3.0:
    ``<prefix>/<build-dir>/project>``
  * From 3.8 to 3.10:
    ``<prefix>/<project>/<build-dir>``
  * In 3.11:
    ``<prefix>/<build-dir>/project>``

* Support setting arbitrary environment variables in ``~/.config/qi/qibuild.xml``.
  Here's an example of a build configuration using ``clang``

  .. code-block:: xml

      <qibuild>
        <config name="clang">
          <env>
            <var name="CC">clang</var>
            <var name="CXX">clang++</var>
          </env>
        </config>
      </qibuild>

qisrc
-----

* ``qisrc list``: add ``--group`` argument to list projects belonging
  to the given group(s).

qitest
------

* Fix test names generated by ``qitest collect``

  * Old: ``basename_project``
  * New: ``project.subfolder.basename``

* Implement ``qitest run --no-capture``. (Useful when you want the
  output of the tests to be shown as they run, or when your test command
  requires a ``tty`` as ``stdout``)
* Fix using ``qitest run --coverage`` from a build worktree
* Implement ``qitest run --last-failed`` to re-run previously failing tests

qitoolchain
------------

* Support using feeds as git URLs. (See :ref:`qitoolchain-tutorial` for more info)

qidoc
-----

* ``qidoc build``: Forward ``--pdb`` option to ``Sphinx``

cmake
-----

* Using ``qi_stage_lib(foo CUSTOM_CODE ..)`` did not generate
  installed ``foo-config.cmake`` correctly
